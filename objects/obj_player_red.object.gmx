<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_red_64</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>1</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>601</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_execute_script</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>9</kind>
            <script>script_create_player_common_local_vars</script>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/* Initalise stats */

//DEFAULT VALUES
characterBonus = - 1;
attack = 10;
dicePool = 1;
sidedDiceDefense = 6
sidedDiceHitPoints = 4
totalActionPoints = 2;
damage = 1;
totalNumberOfAttacks = 1;


//INI file -- read existing or create using defaults
ini_open("config.ini");
    characterBonus = script_ini_read_key("Red_Player_Stats","character_bonus", characterBonus,"real");
    attack = script_ini_read_key("Red_Player_Stats","attack", attack,"real");
    dicePool = script_ini_read_key("Red_Player_Stats","dice_pool", dicePool,"real");
    sidedDiceDefense = script_ini_read_key("Red_Player_Stats","sided_dice_defense", sidedDiceDefense,"real");
    sidedDiceHitPoints = script_ini_read_key("Red_Player_Stats","sided_dice_hit_points", sidedDiceHitPoints,"real");
    totalActionPoints = script_ini_read_key("Red_Player_Stats","move_points", totalActionPoints,"real");
    damage = script_ini_read_key("Red_Player_Stats","damage", damage,"real");
    totalNumberOfAttacks = script_ini_read_key("Red_Player_Stats","number_of_attacks", totalNumberOfAttacks,"real");
ini_close();

randomize();

//Defense
defense = floor(random(sidedDiceDefense)) + 1 + characterBonus ;
if (defense &lt; 1) defense = 1;
//Hit Points
totalHitPoints = floor(random(sidedDiceHitPoints)) + 1 + characterBonus ;
if (totalHitPoints &lt; 1) totalHitPoints = 1;

hitPoints = totalHitPoints;
actionPoints = totalActionPoints;
numberOfAttacks = totalNumberOfAttacks;

equippedWeaponName = "";
equippedWeaponAttack = 0;
equippedWeaponDicePool = 0;
equippedWeaponDefense = 0;
equippedWeaponDamage = 0;
equippedWeaponTotalHitPoints = 0;
equippedWeaponHitPoints = 0;
equippedWeaponTotalActionPoints = 0;
equippedWeaponActionPoints = 0;
equippedWeaponTotalNumberOfAttacks = 0;
equippedWeaponNumberOfAttacks = 0;
equippedWeaponString = "";

equippedArmourName = "";
equippedArmourAttack = 0;
equippedArmourDicePool = 0;
equippedArmourDefense = 0;
equippedArmourDamage = 0;
equippedArmourTotalHitPoints = 0;
equippedArmourHitPoints = 0;
equippedArmourTotalActionPoints = 0;
equippedArmourActionPoints = 0;
equippedArmourTotalNumberOfAttacks = 0;
equippedArmourNumberOfAttacks = 0;

equippedArmourString = "";

inventorySlotWeapon = 0;
inventorySlotArmour = 0;
equippedWeapon = 0;
equippedArmour = 0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
instance_deactivate_object(id)
    mp_grid_clear_all(id);
    //mp_grid_add_instances(global.AI_grid,obj_player_red,false);
    mp_grid_add_instances(global.AI_grid,obj_wall_hidden,false);
instance_activate_object(id)

mypath=path_add(); //creates an empty path...
pathExists = mp_grid_path(global.AI_grid,mypath,x,y,obj_player_blue.x,obj_player_blue.y,true)

//if !mp_grid_path(global.AI_grid,mypath,x,y,obj_player_blue.x,obj_player_blue.y,true) //Checks to see if the path is possible...
if (pathExists)
{
    mp_grid_path(global.AI_grid,mypath,x,y,obj_player_blue.x,obj_player_blue.y,true); //Assigns the path...
    path_set_kind(mypath,0); //Sets the path to allow diagonals
    path_set_precision(mypath,1); //Sets the precision to make it curvy. Can be 1-8. 1 is straight, 8 curvy...
    path_start(mypath,0,0,false); //Starts the path...
}
else
{
    show_message("NO PATH");
}
*/

moveTimer = gridSize;
createNewPath = true;
    

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>601</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_execute_script</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>9</kind>
            <script>script_keyboard_move</script>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>601</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_execute_script</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>9</kind>
            <script>script_player_states</script>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>601</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_execute_script</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>9</kind>
            <script>script_turn_am_i_current_player</script>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>601</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_execute_script</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>9</kind>
            <script>script_stats_window</script>
          </argument>
          <argument>
            <kind>0</kind>
            <string>typeOfWindow</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>id</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (amICurrentPlayer)
{
    if (createNewPath)
    {
        //show_message("Create Path");
        instance_deactivate_object(id)
        mp_grid_clear_all(id);
        //mp_grid_add_instances(global.AI_grid,obj_player_red,false);
        mp_grid_add_instances(global.AI_grid,obj_wall_hidden,false);
        instance_activate_object(id)
        
        mypath=path_add(); //creates an empty path...
        pathExists = mp_grid_path(global.AI_grid,mypath,x,y,obj_player_blue.x,obj_player_blue.y,true);
        //show_message("mypath1: " + string(mypath));
        
        if (pathExists)
        {
            //mp_grid_path(global.AI_grid,mypath,x,y,obj_player_blue.x,obj_player_blue.y,true); //Assigns the path...
            //show_message("mypath: "+string(mypath) );
            path_set_kind(mypath,0); //Sets the path to allow diagonals
            path_set_precision(mypath,1); //Sets the precision to make it curvy. Can be 1-8. 1 is straight, 8 curvy...
            //path_start(mypath,8,0,false); //Starts the path...
        }
        else
        {
            show_message("NO PATH");
        }
        createNewPath = false;
    }
    
    //show_message("moveTimer: "+string(moveTimer) );
    if (actionPoints &gt; 0)
    {
        if (moveTimer &gt; 0)
        {
            //if (moveTimer == gridSize) {
                //show_message("moveTimer1: " + string(moveTimer));
                //show_message("mypath2: " + string(mypath));
                //path_start(mypath,8,0,false);
            //}
            path_start(mypath,8,0,false);
            moveTimer -= moveSpeed;
            //show_message("moveTimer2: " + string(moveTimer));
        }
        else
        {   
            //show_message("moveTimer4: " + string(moveTimer));
            path_start(mypath,0,0,false); //Stops the path... 
            moveTimer = gridSize;
            actionPoints -= 1;
                 
        }
        //show_message("moveTimer3: " + string(moveTimer));
    }
    else
    {
        //path_start(mypath,0,0,false); //Stops the path...
        global.endTurn = true;
    }
}
else 
{
    //path_start(mypath,0,0,false);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite_ext(sprite_index,image_index,x,y,1,1,image_angle,-1,1);

if (amICurrentPlayer)
{
    draw_path(mypath,x,y,true);
    obj_master.playerHighlightId.x = x;
    obj_master.playerHighlightId.y = y;
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
